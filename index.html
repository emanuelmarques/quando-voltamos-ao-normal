<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script src="https://kit.fontawesome.com/7cabf6d2bf.js" crossorigin="anonymous"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0CY5V2N6VX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-0CY5V2N6VX');
  </script>
  <!-- Hotjar Tracking Code for https://www.quandovoltamosaonormal.pt/ -->
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2467816,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
  <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="emanuelsmarques" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Quando Voltamos ao Normal?</title>
  <meta property="og:site_name" content="Quando Voltamos ao Normal?"/>
  <meta property="og:title" content="Quando Voltamos ao Normal?"/>
  <meta property="og:description" content="Afinal, por este andar, quando é que temos imunidade de grupo?"/>
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://images.unsplash.com/photo-1615631648086-325025c9e51e?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80">

  <!-- Favicons -->
  <link href="assets/img/favicon.ico" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Hidayah - v4.1.0
  * Template URL: https://bootstrapmade.com/hidayah-free-simple-html-template-for-corporate/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top header-inner-pages">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo"><a href="index.html">Quando Voltamos ao Normal?</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto" href="#counts">Vacinação em Números</a></li> 
          <li><a class="nav-link scrollto active" href="#skills">População Imunizada</a></li>
          <li><a class="nav-link scrollto" href="#map">Mapa de Vacinação</a></li>
          <li><a class="nav-link scrollto" href="#graph">Progresso</a></li>           
          <li><a class="nav-link scrollto" href="#services">Fontes de dados</a></li> 
          <!-- <li><a href="https://www.buymeacoffee.com/emanuelsmarques"><img src="https://img.buymeacoffee.com/button-api/?text=Paga-me um café&emoji=&slug=emanuelsmarques&button_colour=2f2d2d&font_colour=ffffff&font_family=Cookie&outline_colour=ffffff&coffee_colour=FFDD00"></a></li> -->
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>
      <!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <div id="exampleModalCenter" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <!--Modal Content-->
        <div class="modal-content">
            <!-- Modal Header-->
            <div class="modal-header">
                <h3>Agendamento disponível para maiores de 23 anos</h3>
            </div> <!-- Modal Body-->
            <div class="modal-body">
                <div class="row">
                    <!--Gift Icon-->
                    <div class="col text-center"> <i class="fas fa-syringe fa-4x icon2"></i> </div>
                    <!--Modal Text-->
                    <div class="col-8">
                        <p>Tem 23 ou mais anos e ainda não foi vacinado(a)?</p>
                        <h6>Já pode fazer o seu pedido de agendamento! </h6>
                    </div>
                </div>
            </div> <!-- Modal Footer-->
            <div class="modal-footer"> <a href="https://covid19.min-saude.pt/pedido-de-agendamento/" target="_blank" class="btn btn-info">Agendar vacina <i class="fas fa-syringe"></i> </a> <a id= "myButton" href="" class="btn btn-outline-danger" data-bs-dismiss="modal">Fechar</a> </div>
        </div>
    </div>
  </div>

  <!-- ======= Hero Section ======= -->
  <section id="hero">
    <div id="heroCarousel" data-bs-interval="5000" class="carousel slide carousel-fade" data-bs-ride="carousel">

      <ol class="carousel-indicators" id="hero-carousel-indicators"></ol>

      <div class="carousel-inner" role="listbox">

        <div class="carousel-item active" style="background-image: url(assets/img/slide/vaccine-3.jpg)">
          <div class="carousel-container">
            <div class="container">
              <h1 style="color:yellow;">70% - 1ª Dose</h1>
              <h2 id="date60-1" class="animated fadeInDown"></h2>
              <p class="animated fadeInUp">Data em que atingiremos 70% da população vacinada com pelo menos 1 dose, tendo em
                conta o ritmo de vacinação atual</p>
            </div>
          </div>
        </div>
        
        <!-- Slide 1 -->
        <div class="carousel-item " style="background-image: url(assets/img/slide/vaccine-1.jpg)">
          <div class="carousel-container">
            <div class="container">
              <h1 style="color:yellowgreen;">70%</h1>
              <h2 id="date70" class="animated fadeInDown"></h2>
              <p class="animated fadeInUp">Data em que atingiremos 70% da população vacinada com duas doses, tendo em
                conta o ritmo de vacinação atual</p>
              <!-- <a href="#about" class="btn-get-started animated fadeInUp scrollto">Read More</a> -->
            </div>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item" style="background-image: url(assets/img/slide/vaccine-2.jpg)">
          <div class="carousel-container">
            <div class="container">
              <h1 style="color:green;">85%</h1>
              <h2 id="date85" class="animated fadeInDown"></h2>
              <p class="animated fadeInUp">Data em que atingiremos 85% da população vacinada com duas doses, tendo em
                conta o ritmo de vacinação atual</p>
            </div>
          </div>
        </div>

        

        <!-- Slide 3 -->
        <!-- <div class="carousel-item" style="background-image: url(assets/img/slide/slide-3.jpg)">
          <div class="carousel-container">
            <div class="container">
              <h2 class="animated fadeInDown">Sequi ea ut et est quaerat</h2>
              <p class="animated fadeInUp">Ut velit est quam dolor ad a aliquid qui aliquid. Sequi ea ut et est quaerat sequi nihil ut aliquam. Occaecati alias dolorem mollitia ut. Similique ea voluptatem. Esse doloremque accusamus repellendus deleniti vel. Minus et tempore modi architecto.</p>
              <a href="#about" class="btn-get-started animated fadeInUp scrollto">Read More</a>
            </div>
          </div>
        </div> -->

      </div>

      <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
      </a>
      <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
      </a>

    </div>
  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= About Section ======= -->
    <!-- <section id="about" class="about">
      <div class="container-fluid">

        <div class="row justify-content-center">
          <div class="col-xl-5 col-lg-6 video-box d-flex justify-content-center align-items-stretch position-relative">
            <a href="https://www.youtube.com/watch?v=jDDaplaOz7Q" class="glightbox play-btn mb-4"></a>
          </div>

          <div class="col-xl-5 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
            <h3>Enim quis est voluptatibus aliquid consequatur fugiat</h3>
            <p>Esse voluptas cumque vel exercitationem. Reiciendis est hic accusamus. Non ipsam et sed minima temporibus laudantium. Soluta voluptate sed facere corporis dolores excepturi. Libero laboriosam sint et id nulla tenetur. Suscipit aut voluptate.</p>

            <div class="icon-box">
              <div class="icon"><i class="bx bx-fingerprint"></i></div>
              <h4 class="title"><a href="">Lorem Ipsum</a></h4>
              <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident</p>
            </div>

            <div class="icon-box">
              <div class="icon"><i class="bx bx-gift"></i></div>
              <h4 class="title"><a href="">Nemo Enim</a></h4>
              <p class="description">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque</p>
            </div>

            <div class="icon-box">
              <div class="icon"><i class="bx bx-atom"></i></div>
              <h4 class="title"><a href="">Dine Pad</a></h4>
              <p class="description">Explicabo est voluptatum asperiores consequatur magnam. Et veritatis odit. Sunt aut deserunt minus aut eligendi omnis</p>
            </div>

          </div>
        </div>

      </div>
    </section> -->
    <!-- End About Section -->

    
    <!-- ======= Counts Section ======= -->
    <section id="counts" class="counts">
      <div class="container-fluid">
        <div
          class="col-xl-5 col-lg-6 col-md-12 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
          <h3>Vacinação em Números</h3>
          <h4>Portugal Continental</h4>
        </div>

        <div class="row counters">

          <div class="col-xl-3 col-lg-6 col-md-12 text-center">
            <span id = "givenVaccines" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
              class="purecounter"></span>
            <p>Vacinas Administradas</p>
          </div>
          <div class="col-xl-3 col-lg-6 col-md-12 text-center">
            <span id = "singleVaccinated" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
              class="purecounter"></span>
            <p>Total Pessoas com pelo menos 1 dose</p>
          </div>

          <div class="col-xl-3 col-lg-6 col-md-12 text-center">
            <span id = "fullyVaccinated" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
              class="purecounter"></span>
            <p>Total Pessoas Imunizadas</p>
          </div>


          <div class="col-xl-3 col-lg-6 col-md-12 text-center">
            <span id = "newVaccines" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
              class="purecounter"></span>
            <p>Vacinas Administradas nas últimas 24h</p>
          </div>    

        </div>


        <div
        class="col-xl-5 col-lg-6 col-md-12 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
        <h4>Ritmo de vacinação</h4>
        <h5>Média a 7 dias</h5>
      </div>

      <div class="row counters">  

        <div class="col-xl-4 col-lg-12 col-md-12 text-center">
          <span id = "speed" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
            class="purecounter"></span>
          <p>Vacinas administradas por dia</p>
        </div>

        <div class="col-xl-4 col-lg-12 col-md-12 text-center">
          <span id = "firstDoseSpeed" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
            class="purecounter"></span>
          <p>Primeiras doses administradas por dia</p>
        </div>

        <div class="col-xl-4 col-lg-12 col-md-12 text-center">
          <span id = "secondDoseSpeed" data-purecounter-start="0" data-purecounter-end="" data-purecounter-duration="1"
            class="purecounter"></span>
          <p>Segundas doses administradas por dia</p>
        </div>

   
        <div style = "text-align: right;color: grey;">
          <p> Última atualização: <a id = 'dailyUpdateDate'></a></p>
         </div>

      </div>

      </div>
    </section><!-- End Counts Section -->
   
    <!-- ======= Skills Section ======= -->
    <section id="skills" class="skills section-bg">
      <div class="container-fluid">
        <div
          class="col-xl-5 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
          <h3>População Vacinada</h3>
          <h4>Por faixa etária</h4>
        </div>
        <div class="row justify-content-center skills-content">

          <div class="col-xl-5 col-lg-6">

            <div class="progress">
              <span id="progress80pluspoplabel" class="skill"><i id="progress80pluslabel" class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progress80plusvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progress80plusvalue" class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>                
              </div>
            </div>

            <div class="progress">
              <span id="progress65pluspoplabel" class="skill"><i id="progress65pluslabel"class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progress65plusvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progress65plusvalue" class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
            </div>

            <div class="progress">
              <span id="progress50pluspoplabel" class="skill"><i id="progress50pluslabel" class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progress50plusvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progress50plusvalue" class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
            </div>

          </div>
          

          <div class="col-xl-5 col-lg-6">

            <div class="progress">
              <span id="progress25pluspoplabel" class="skill"><i id="progress25pluslabel" class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progress25plusvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progress25plusvalue" class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                </div>                
              </div>
            </div>

            <div class="progress">
              <span id="progress18pluspoplabel" class="skill"><i id="progress18pluslabel" class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progress18plusvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progress18plusvalue"  class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
            </div>

            <div class="progress">
              <span id="progress0pluspoplabel" class="skill"><i id="progress0pluslabel" class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progress0plusvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progress0plusvalue" class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
            </div>

          </div>
          <div class="col-xl-8 col-lg-8">

            <div class="progress">
              <span id = "progressoverallpoplabel" class="skill"> <i id="progressoveralllabel" class="val"></i></span>
              <div class="progress-bar-wrap">
                <div id="progressoverallvaluefirst" class="progress-bar" role="progressbar"  aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                <div id="progressoverallvalue" class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div style = "text-align: right;color: grey;">
         <p> Última atualização: <a id = 'weeklyUpdateDate'></a></p>
        </div>

      </div>
    </section><!-- End Skills Section -->



    <!-- ======= Map Section ======= -->
    <section id="map" class="about">
      <div class="container">

        <div class="text-left">
          <h3>Mapa de Vacinação</h3>          
        </div>

        <div class="imgbox">
          <img src="assets/img/map/map.png" class="center-fit" alt="">
        </div>

        <div style = "text-align: right;color: grey;">
          <p> Última atualização: 04-07-2021</p>
         </div>
      </div>
    </section><!-- End map Section -->

    
    <section id="graph" class="skills section-bg">
      <div class="container-fluid">
        <div
          class="col-xl-5 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
          <h3>Progresso na Imunização</h3>
        </div>
        <div class="row justify-content-center skills-content">       
          <div class="col-xl-5 col-md-10">
            <iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?zoomToSelection=true&pickerSort=desc&pickerMetric=total_vaccinations&Metric=People+vaccinated&Interval=Cumulative&Relative+to+Population=true&Align+outbreaks=false&country=PRT~European+Union&hideControls=true" loading="lazy" style="width: 100%; height: 600px; border: 0px none;"></iframe>
          </div>   
          <div class="col-xl-5 col-md-10">
            <iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?zoomToSelection=true&pickerSort=desc&pickerMetric=total_vaccinations&Metric=People+fully+vaccinated&Interval=Cumulative&Relative+to+Population=true&Align+outbreaks=false&country=PRT~European+Union&hideControls=true" loading="lazy" style="width: 100%; height: 600px; border: 0px none;"></iframe>
          </div>
        </div>
      </div>
    </section>


    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <div class="container-fluid">

        <div class="section-title">
          <h3>Fontes de Dados</h3>
          <p>Dados de vacinação recolhidos de fontes oficiais</p>
        </div>

        <div class="row justify-content-center">
          <div class="col-xl-10">
            <div class="row ">
              <div class="col-lg-4 col-md-6 icon-box">
                <div class="icon"><i class="dgs-icon"></i></div>
                <h4 class="title"><a href="https://covid19.min-saude.pt/relatorio-de-vacinacao/" target="_blank">Direção-Geral da Saúde</a></h4>
                <p class="description">Relatórios semanais sobre o plano de vacinação</p>
              </div>
              <!-- <div class="col-lg-3 col-md-6 icon-box">
                <div class="icon"><i class="countrymeters-icon"></i></div>
                <h4 class="title"><a href="https://countrymeters.info/pt/Portugal" target="_blank">CountryMeters</a></h4>
                <p class="description">Dados sobre a população de Portugal</p>
              </div> -->
              <div class="col-lg-4 col-md-6 icon-box">
                <div class="icon"><i class="our-world-in-data-icon"></i></div>
                <h4 class="title"><a href="https://ourworldindata.org/covid-vaccinations" target="_blank">Our World in Data</a></h4>
                <p class="description">Gráficos de progresso</p>
              </div>
              <div class="col-lg-4 col-md-6 icon-box">
                <div class="icon"><i class="dssg-icon"></i></div>
                <h4 class="title"><a href="https://github.com/dssg-pt/covid19pt-data/blob/master/vacinas.csv" target="_blank">Data Science for Social Good Portugal</a></h4>
                <p class="description">Dataset de vacinação</p>
              </div>
              <!-- <div class="col-lg-4 col-md-6 icon-box">
                <div class="icon"><i class="ri-shape-line"></i></div>
                <h4 class="title"><a href="">Magni Dolores</a></h4>
                <p class="description">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                  deserunt mollit anim id est laborum</p>
              </div>
              <div class="col-lg-4 col-md-6 icon-box">
                <div class="icon"><i class="ri-fingerprint-line"></i></div>
                <h4 class="title"><a href="">Nemo Enim</a></h4>
                <p class="description">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis
                  praesentium voluptatum deleniti atque</p>
              </div>
              <div class="col-lg-4 col-md-6 icon-box">
                <div class="icon"><i class="ri-body-scan-line"></i></div>
                <h4 class="title"><a href="">Eiusmod Tempor</a></h4>
                <p class="description">Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum
                  soluta nobis est eligendi</p>
              </div> -->
            </div>
          </div>
        </div>

      </div>
    </section>
    <!-- End Services Section -->

    <!-- ======= Cta Section ======= -->
    <section id="cta" class="cta">
      <div class="container">

        <div class="text-center">
          <h3>Relatórios de Vacinação</h3>
          <p> Aceda aos relatórios oficiais do Plano de Vacinação contra a COVID-19 em Portugal</p>
          <a class="cta-btn" href="https://covid19.min-saude.pt/relatorio-de-vacinacao/" target="_blank">Aceder</a>
        </div>

      </div>
    </section><!-- End Cta Section -->



    <!-- ======= Testimonials Section ======= -->
    <!-- <section id="testimonials" class="testimonials section-bg">
      <div class="container-fluid">

        <div class="section-title">
          <h2>Testimonials</h2>
          <h3>What They <span>Are Saying</span> About Us</h3>
          <p>Ut possimus qui ut temporibus culpa velit eveniet modi omnis est adipisci expedita at voluptas atque vitae
            autem.</p>
        </div>

        <div class="row justify-content-center">
          <div class="col-xl-10">

            <div class="row">

              <div class="col-lg-6">
                <div class="testimonial-item">
                  <img src="assets/img/testimonials/testimonials-1.jpg" class="testimonial-img" alt="">
                  <h3>Saul Goodman</h3>
                  <h4>Ceo &amp; Founder</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus.
                    Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div> -->
              <!-- End testimonial-item -->

              <!-- <div class="col-lg-6">
                <div class="testimonial-item mt-4 mt-lg-0">
                  <img src="assets/img/testimonials/testimonials-2.jpg" class="testimonial-img" alt="">
                  <h3>Sara Wilsson</h3>
                  <h4>Designer</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Export tempor illum tamen malis malis eram quae irure esse labore quem cillum quid cillum eram malis
                    quorum velit fore eram velit sunt aliqua noster fugiat irure amet legam anim culpa.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div> -->
              <!-- End testimonial-item -->
<!-- 
              <div class="col-lg-6">
                <div class="testimonial-item mt-4">
                  <img src="assets/img/testimonials/testimonials-3.jpg" class="testimonial-img" alt="">
                  <h3>Jena Karlis</h3>
                  <h4>Store Owner</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Enim nisi quem export duis labore cillum quae magna enim sint quorum nulla quem veniam duis minim
                    tempor labore quem eram duis noster aute amet eram fore quis sint minim.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div> -->
              <!-- End testimonial-item -->

              <!-- <div class="col-lg-6">
                <div class="testimonial-item mt-4">
                  <img src="assets/img/testimonials/testimonials-4.jpg" class="testimonial-img" alt="">
                  <h3>Matt Brandon</h3>
                  <h4>Freelancer</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Fugiat enim eram quae cillum dolore dolor amet nulla culpa multos export minim fugiat minim velit
                    minim dolor enim duis veniam ipsum anim magna sunt elit fore quem dolore labore illum veniam.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div> -->
              <!-- End testimonial-item -->
<!-- 
              <div class="col-lg-6">
                <div class="testimonial-item mt-4">
                  <img src="assets/img/testimonials/testimonials-5.jpg" class="testimonial-img" alt="">
                  <h3>John Larson</h3>
                  <h4>Entrepreneur</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Quis quorum aliqua sint quem legam fore sunt eram irure aliqua veniam tempor noster veniam enim
                    culpa labore duis sunt culpa nulla illum cillum fugiat legam esse veniam culpa fore nisi cillum
                    quid.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div> -->
              <!-- End testimonial-item -->

              <!-- <div class="col-lg-6">
                <div class="testimonial-item mt-4">
                  <img src="assets/img/testimonials/testimonials-6.jpg" class="testimonial-img" alt="">
                  <h3>Emily Harison</h3>
                  <h4>Store Owner</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Eius ipsam praesentium dolor quaerat inventore rerum odio. Quos laudantium adipisci eius. Accusamus
                    qui iste cupiditate sed temporibus est aspernatur. Sequi officiis ea et quia quidem.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div> -->
              <!-- End testimonial-item -->
<!-- 
            </div>
          </div>
        </div>

      </div>
    </section> -->
    <!-- End Testimonials Section -->
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">
      <div class="container-fluid">
        <div class="row justify-content-center">
          <div class="col-xl-10">
            <div class="row">

              <div class="col-lg-3 col-md-6 footer-links">
                <h4>Links Úteis</h4>
                <ul>
                  <li><i class="bx bx-chevron-right"></i> <a href="https://covid19.min-saude.pt/relatorio-de-situacao/" target="_blank">Relatório Diário DGS</a></li>
                  <li><i class="bx bx-chevron-right"></i> <a href="https://covid19.min-saude.pt/relatorio-de-vacinacao/" target="_blank">Relatório de Vacinação</a></li>
                  <li><i class="bx bx-chevron-right"></i> <a href="https://covid19estamoson.gov.pt/" target="_blank">COVID-19: Estamos On</a></li>
                  <li><i class="bx bx-chevron-right"></i> <a href="https://dre.pt/legislacao-covid-19-upo" target="_blank">Legislação COVID-19</a></li>
                </ul>
              </div>

            

              <div class="col-lg-3 col-md-6 footer-contact">
                <h4>Contacto</h4>
                  <strong>Email:</strong> <a href="mailto:&#101;&#109;&#97;&#110;&#117;&#101;&#108;&#115;&#109;&#97;&#114;&#113;&#117;&#101;&#115;&#64;&#111;&#117;&#116;&#108;&#111;&#111;&#107;&#46;&#112;&#116;">&#101;&#109;&#97;&#110;&#117;&#101;&#108;&#115;&#109;&#97;&#114;&#113;&#117;&#101;&#115;&#64;&#111;&#117;&#116;&#108;&#111;&#111;&#107;&#46;&#112;&#116;</a><br>
                </p>

              </div>

              <div class="col-lg-3 col-md-6 footer-info">
                <h3>Quando Voltamos ao Normal?</h3>
                <p>Desenvolvido por Emanuel Marques</p>
                <div class="social-links mt-3">
                  <a href="https://www.linkedin.com/in/emanuelsmarques/"  target="_blank" class="linkedin"><i class="bx bxl-linkedin"></i></a>
                  <a href="https://twitter.com/epsmarques" target="_blank" class="twitter"><i class="bx bxl-twitter"></i></a>
                  <a href="https://github.com/emanuelmarques" target="_blank" class="github"><i class="bx bxl-github"></i></a>                  
                </div>
                <div class= "mt-3">
                  <a href="https://www.buymeacoffee.com/emanuelsmarques"><img src="https://img.buymeacoffee.com/button-api/?text=Paga-me um café&emoji=&slug=emanuelsmarques&button_colour=2f2d2d&font_colour=ffffff&font_family=Cookie&outline_colour=ffffff&coffee_colour=FFDD00"></a>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Emanuel Marques</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/hidayah-free-simple-html-template-for-corporate/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <!-- <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a> -->

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <script type="text/javascript">

$(document).ready(function() {
    $.ajax({
        type: "GET",
        url: "https://raw.githubusercontent.com/dssg-pt/covid19pt-data/master/vacinas.csv",
        dataType: "text",
        success: function(data) {processData(data);},
        async: false
     });
});

  var averageSpeed = 0;
  var averageSpeedFirstDose = 0;
  var averageSpeedSecondDose = 0;
  function processData(allText) {
      var allTextLines = allText.split(/\r\n|\n/);
      var headers = allTextLines[0].split(',');
      var lines = [];

      for (var i=1; i<allTextLines.length; i++) {
          var data = allTextLines[i].split(',');
          if (data.length == headers.length) {

              var tarr = {}
              for (var j=0; j<headers.length; j++) {
                tarr[headers[j]] = data[j];
              }
              lines.push(tarr);
          }
      }

      
      var latest = lines[lines.length - 1];
      document.getElementById("newVaccines").setAttribute("data-purecounter-end", latest["doses_novas"]);
      document.getElementById("givenVaccines").setAttribute("data-purecounter-end", latest["doses"]);

      document.getElementById("singleVaccinated").setAttribute("data-purecounter-end", latest["doses1"]);
      document.getElementById("fullyVaccinated").setAttribute("data-purecounter-end", latest["doses2"]);

      averageSpeed = (latest["doses"] - lines[lines.length - 8]["doses"]) / 7;

      averageSpeedFirstDose = (latest["doses1"] - lines[lines.length - 8]["doses1"]) / 7;
      averageSpeedSecondDose = (latest["doses2"] - lines[lines.length - 8]["doses2"]) / 7;


      document.getElementById("speed").setAttribute("data-purecounter-end", parseInt(averageSpeed));
      document.getElementById("firstDoseSpeed").setAttribute("data-purecounter-end", parseInt(averageSpeedFirstDose));
      document.getElementById("secondDoseSpeed").setAttribute("data-purecounter-end", parseInt(averageSpeedSecondDose));


      document.getElementById("dailyUpdateDate").innerHTML = latest["data"];

      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
  
      let data70 = dateToPercent(0.7);
      document.getElementById("date70").innerHTML = data70.toLocaleDateString('pt-PT', options);

      let data50 = dateToPercent(0.85);
      document.getElementById("date85").innerHTML = data50.toLocaleDateString('pt-PT', options);

      let data60_1 = dateToPercentFirstDose(0.7);
      document.getElementById("date60-1").innerHTML = data60_1.toLocaleDateString('pt-PT', options);
  }

  function dateToPercentFirstDose(percent) {
    var population = 9798858;
    var givenVaccines = document.getElementById("singleVaccinated").getAttribute("data-purecounter-end");
  
    var totalVaccinesToGive = population;
    var remainingVaccinesToGive = totalVaccinesToGive - givenVaccines;
  
    var daysUntilPercent = remainingVaccinesToGive / averageSpeedFirstDose * percent
  
    var dateOfPercent = new Date();
  
    return dateOfPercent.addDays(daysUntilPercent);
  }
    
  function dateToPercent(percent) {
    var population = 9798858;
    var givenVaccines = document.getElementById("fullyVaccinated").getAttribute("data-purecounter-end");
  
    var totalVaccinesToGive = population;
    var remainingVaccinesToGive = totalVaccinesToGive - givenVaccines;
  
    var daysUntilPercent = remainingVaccinesToGive / averageSpeedSecondDose * percent
  
    var dateOfPercent = new Date();
  
    return dateOfPercent.addDays(daysUntilPercent);
  }
  
  Date.prototype.addDays = function(days) {
    var date = new Date(this.valueOf());
    date.setDate(date.getDate() + days);
    return date;
  }

    $(window).on('load', function() {
        $('#exampleModalCenter').modal('show');
    });

  $(document).ready(function() {
    $.ajax({
        type: "GET",
        url: "https://raw.githubusercontent.com/dssg-pt/covid19pt-data/master/vacinas_detalhe.csv",
        dataType: "text",
        success: function(data) {processWeeklyData(data);},
        async: false
     });
  });

  var averageSpeed = 0;
  function processWeeklyData(allText) {
      var allTextLines = allText.split(/\r\n|\n/);
      var headers = allTextLines[0].split(',');
      var lines = [];

      for (var i=1; i<allTextLines.length; i++) {
          var data = allTextLines[i].split(',');
          if (data.length == headers.length) {

              var tarr = {}
              for (var j=0; j<headers.length; j++) {
                tarr[headers[j]] = data[j];
              }
              lines.push(tarr);
          }
      }

      
      var latest = lines[lines.length - 1];

      // document.getElementById("progressoverallpoplabel").insertAdjacentHTML('beforeend', "População Portuguesa</br>"+ parseInt(latest["populacao1"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progressoveralllabel").innerHTML = "1ª dose: "+ Math.round(latest["doses1_perc"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc"]*100) + "%";
      // document.getElementById("progressoverallvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc"]*100));
      // document.getElementById("progressoverallvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc"]*100));

      // document.getElementById("progress80pluspoplabel").insertAdjacentHTML('beforeend', "80+</br>"+ parseInt(latest["populacao1_80+"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progress80pluslabel").innerHTML = "1ª dose: "+ Math.round(latest["doses1_perc_80+"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc_80+"]*100) + "%";
      // document.getElementById("progress80plusvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc_80+"]*100));
      // document.getElementById("progress80plusvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc_80+"]*100));

      // document.getElementById("progress65pluspoplabel").insertAdjacentHTML('beforeend', "65-79</br>"+ parseInt(latest["populacao1_65_79"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progress65pluslabel").innerHTML ="1ª dose: "+ Math.round(latest["doses1_perc_65_79"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc_65_79"]*100) + "%";
      // document.getElementById("progress65plusvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc_65_79"]*100));
      // document.getElementById("progress65plusvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc_65_79"]*100));

      // document.getElementById("progress50pluspoplabel").insertAdjacentHTML('beforeend', "50-64</br>"+ parseInt(latest["populacao1_50_64"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progress50pluslabel").innerHTML = "1ª dose: "+ Math.round(latest["doses1_perc_50_64"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc_50_64"]*100) + "%";
      // document.getElementById("progress50plusvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc_50_64"]*100));
      // document.getElementById("progress50plusvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc_50_64"]*100));
      
      // document.getElementById("progress25pluspoplabel").insertAdjacentHTML('beforeend', "25-49</br>"+ parseInt(latest["populacao1_25_49"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progress25pluslabel").innerHTML = "1ª dose: "+ Math.round(latest["doses1_perc_25_49"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc_25_49"]*100) + "%";
      // document.getElementById("progress25plusvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc_25_49"]*100));
      // document.getElementById("progress25plusvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc_25_49"]*100));
    
      // document.getElementById("progress18pluspoplabel").insertAdjacentHTML('beforeend', "18-24</br>"+ parseInt(latest["populacao1_18_24"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progress18pluslabel").innerHTML = "1ª dose: "+ Math.round(latest["doses1_perc_18_24"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc_18_24"]*100) + "%";
      // document.getElementById("progress18plusvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc_18_24"]*100));
      // document.getElementById("progress18plusvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc_18_24"]*100));

      // document.getElementById("progress0pluspoplabel").insertAdjacentHTML('beforeend', "0-17</br>"+ parseInt(latest["populacao1_0_17"]).toLocaleString('pt-PT')+ " pessoas");
      // document.getElementById("progress0pluslabel").innerHTML = "1ª dose: "+ Math.round(latest["doses1_perc_0_17"]*100) + "%" + "</br> Imunizados: "+  Math.round(latest["doses2_perc_0_17"]*100) + "%";
      // document.getElementById("progress0plusvalue").setAttribute("aria-valuenow", Math.round(latest["doses2_perc_0_17+"]*100));
      // document.getElementById("progress0plusvaluefirst").setAttribute("aria-valuenow", Math.round(latest["doses1_perc_0_17+"]*100));

      // document.getElementById("weeklyUpdateDate").innerHTML = latest["data"];

      let overallFirst = 56;
      let overallImmune = 36;
      document.getElementById("progressoverallpoplabel").insertAdjacentHTML('beforeend', "População Portuguesa</br>"+ parseInt(latest["populacao1"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progressoveralllabel").innerHTML = "1ª dose: "+ overallFirst + "%" + "</br> Imunizados: "+  overallImmune + "%";
      document.getElementById("progressoverallvalue").setAttribute("aria-valuenow", overallImmune);
      document.getElementById("progressoverallvaluefirst").setAttribute("aria-valuenow", overallFirst);     

      let eightyFirst = 98;
      let eightyImmune = 94;
      document.getElementById("progress80pluspoplabel").insertAdjacentHTML('beforeend', "80+</br>"+ parseInt(latest["populacao1_80+"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progress80pluslabel").innerHTML = "1ª dose: "+ eightyFirst + "%" + "</br> Imunizados: "+  eightyImmune + "%";
      document.getElementById("progress80plusvalue").setAttribute("aria-valuenow", eightyImmune);
      document.getElementById("progress80plusvaluefirst").setAttribute("aria-valuenow", eightyFirst);
      
      let sixtyFiveFirst = 98;
      let sixtyFiveImmune = 75;
      document.getElementById("progress65pluspoplabel").insertAdjacentHTML('beforeend', "65-79</br>"+ parseInt(latest["populacao1_65_79"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progress65pluslabel").innerHTML ="1ª dose: "+ sixtyFiveFirst + "%" + "</br> Imunizados: "+  sixtyFiveImmune + "%";
      document.getElementById("progress65plusvalue").setAttribute("aria-valuenow", sixtyFiveImmune);
      document.getElementById("progress65plusvaluefirst").setAttribute("aria-valuenow", sixtyFiveFirst);   

      let fiftyFirst = 88;
      let fiftyImmune = 59;
      document.getElementById("progress50pluspoplabel").insertAdjacentHTML('beforeend', "50-64</br>"+ parseInt(latest["populacao1_50_64"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progress50pluslabel").innerHTML = "1ª dose: "+ fiftyFirst + "%" + "</br> Imunizados: "+  fiftyImmune + "%";
      document.getElementById("progress50plusvalue").setAttribute("aria-valuenow", fiftyImmune);
      document.getElementById("progress50plusvaluefirst").setAttribute("aria-valuenow", fiftyFirst);

      let twentyFiveFirst = 45;
      let twentyFiveImmune = 16;
      document.getElementById("progress25pluspoplabel").insertAdjacentHTML('beforeend', "25-49</br>"+ parseInt(latest["populacao1_25_49"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progress25pluslabel").innerHTML = "1ª dose: "+ twentyFiveFirst+ "%" + "</br> Imunizados: "+  twentyFiveImmune + "%";
      document.getElementById("progress25plusvalue").setAttribute("aria-valuenow", twentyFiveImmune);
      document.getElementById("progress25plusvaluefirst").setAttribute("aria-valuenow", twentyFiveFirst);

      let eighteenFirst = 6;
      let eighteenImmune = 5;
      document.getElementById("progress18pluspoplabel").insertAdjacentHTML('beforeend', "18-24</br>"+ parseInt(latest["populacao1_18_24"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progress18pluslabel").innerHTML = "1ª dose: "+ eighteenFirst + "%" + "</br> Imunizados: "+  eighteenImmune + "%";
      document.getElementById("progress18plusvalue").setAttribute("aria-valuenow", eighteenImmune);
      document.getElementById("progress18plusvaluefirst").setAttribute("aria-valuenow", eighteenFirst);  

      let zeroFirst = 0;
      let zeroImmune = 0;
      document.getElementById("progress0pluspoplabel").insertAdjacentHTML('beforeend', "0-17</br>"+ parseInt(latest["populacao1_0_17"]).toLocaleString('pt-PT')+ " pessoas");
      document.getElementById("progress0pluslabel").innerHTML = "1ª dose: "+ zeroFirst + "%" + "</br> Imunizados: "+  zeroImmune + "%";
      document.getElementById("progress0plusvalue").setAttribute("aria-valuenow", zeroImmune);
      document.getElementById("progress0plusvaluefirst").setAttribute("aria-valuenow", zeroFirst);

      document.getElementById("weeklyUpdateDate").innerHTML = "04-07-2021";
  }

  </script>

</body>

</html>
